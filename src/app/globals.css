@import "tailwindcss";

/* Wolpe Pegasus Font Faces */
@font-face {
  font-family: 'Wolpe Pegasus';
  src: url('/fonts/WolpePegasus-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Wolpe Pegasus';
  src: url('/fonts/WolpePegasus-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Wolpe Pegasus';
  src: url('/fonts/WolpePegasus-Italic.ttf') format('truetype');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Wolpe Pegasus';
  src: url('/fonts/WolpePegasus-BoldItalic.ttf') format('truetype');
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-wolpe-regular: 'Wolpe Pegasus', sans-serif;
  --font-wolpe-bold: 'Wolpe Pegasus', sans-serif;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: 'Wolpe Pegasus', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  font-weight: 400;
}

/* Optimize input performance with system fonts */
input, textarea, select {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  font-weight: 400;
}

/* Mobile-specific input optimizations */
@media (max-width: 768px) {
  input, textarea, select {
    /* Force hardware acceleration */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    will-change: transform;
    
    /* Optimize rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    
    /* Reduce repaints */
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    
    /* Optimize text rendering */
    text-rendering: optimizeSpeed;
    -webkit-text-size-adjust: 100%;
    
    /* Prevent zoom on focus (iOS) */
    font-size: 16px !important;
    
    /* Optimize touch events */
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    
    /* Reduce input lag */
    -webkit-appearance: none;
    appearance: none;
  }
  
  /* Specific optimizations for text inputs */
  input[type="text"], 
  input[type="email"], 
  input[type="password"], 
  input[type="tel"],
  textarea {
    /* Force immediate rendering */
    contain: layout style paint;
    
    /* Optimize for mobile keyboards */
    -webkit-user-select: text;
    user-select: text;
    
    /* Prevent input delay */
    -webkit-touch-callout: none;
    
    /* Optimize scrolling */
    -webkit-overflow-scrolling: touch;
  }
  
  /* Focus optimizations */
  input:focus, textarea:focus, select:focus {
    /* Reduce focus delay */
    outline: none;
    -webkit-tap-highlight-color: transparent;
    
    /* Force immediate repaint */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
  }
}

/* Critical CSS for main page performance */
.main-page-container {
  contain: layout style paint;
}

.main-page-logo {
  will-change: transform;
  transform: translateZ(0);
}

.main-page-bg {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Optimize image loading */
img[loading="eager"] {
  content-visibility: auto;
}

/* Prevent layout shift during image loading */
.image-container {
  aspect-ratio: 1;
  overflow: hidden;
}

/* Additional mobile input performance optimizations */
@media (max-width: 768px) {
  /* Optimize form containers */
  form {
    contain: layout style;
  }
  
  /* Optimize input containers */
  .input-container, .form-group {
    contain: layout style paint;
    will-change: transform;
  }
  
  /* Reduce input field repaints */
  input, textarea {
    /* Force composite layer */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    
    /* Optimize for mobile typing */
    -webkit-user-modify: read-write-plaintext-only;
    
    /* Prevent input lag on Android */
    -webkit-touch-callout: none;
    -webkit-user-select: text;
    user-select: text;
  }
  
  /* Optimize placeholder text */
  input::placeholder, textarea::placeholder {
    /* Use system font for placeholders too */
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    font-weight: 400;
    opacity: 0.6;
  }
  
  /* OTP-specific optimizations */
  input[inputmode="numeric"] {
    /* Optimize numeric input rendering */
    font-variant-numeric: tabular-nums;
    -webkit-font-feature-settings: "tnum";
    font-feature-settings: "tnum";
    
    /* Reduce character spacing complexity */
    letter-spacing: 0.1em;
    
    /* Optimize for mobile keyboards */
    -webkit-user-select: text;
    user-select: text;
    
    /* Prevent input delay on mobile */
    -webkit-touch-callout: none;
    
    /* Force immediate rendering */
    contain: layout style paint;
  }
  
  /* OTP input focus optimizations */
  input[inputmode="numeric"]:focus {
    /* Immediate hardware acceleration on focus */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    
    /* Optimize text rendering during typing */
    text-rendering: optimizeSpeed;
    
    /* Reduce focus delay */
    outline: none;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Mobile checkbox optimizations for iPhone Safari */
  input[type="checkbox"] {
    /* Ensure proper touch target size */
    min-width: 44px;
    min-height: 44px;
    
    /* Remove default styling that can interfere with touch */
    -webkit-appearance: none;
    appearance: none;
    
    /* Optimize touch events */
    touch-action: manipulation;
    -webkit-touch-callout: none;
    
    /* Ensure proper display */
    display: block;
    visibility: visible;
    opacity: 1;
  }
  
  /* Checkbox label touch optimization */
  label[for] {
    /* Ensure entire label area is touchable */
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    
    /* Prevent text selection on touch */
    -webkit-user-select: none;
    user-select: none;
  }
  
  /* Custom checkbox mobile optimizations */
  .custom-checkbox-container {
    /* Ensure proper touch target */
    min-height: 44px;
    min-width: 44px;
    
    /* Optimize touch events */
    touch-action: manipulation;
    -webkit-touch-callout: none;
    
    /* Prevent text selection */
    -webkit-user-select: none;
    user-select: none;
    
    /* Smooth transitions */
    transition: all 0.2s ease;
  }
  
  .custom-checkbox-container:active {
    /* Visual feedback on touch */
    transform: scale(0.95);
  }
}
